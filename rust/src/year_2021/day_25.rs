use std::collections::HashSet;

use crate::solver::Solver;

#[derive(Debug, Hash, PartialEq, Eq, Copy, Clone)]
struct Pos(usize, usize);

#[derive(Default, Debug)]
pub struct Solution {
    east_cukes: HashSet<Pos>,
    south_cukes: HashSet<Pos>,
    width: usize,
    height: usize,
}

impl Solver for Solution {
    fn get_input(&self) -> &'static str {
        INPUT
    }

    fn with_input(&mut self, input: &str) {
        input.lines().enumerate().for_each(|(y, row)| {
            self.height += 1;
            self.width = row.trim().len();

            row.chars().enumerate().for_each(|(x, col)| {
                match col {
                    '>' => {
                        self.east_cukes.insert(Pos(x, y));
                    }
                    'v' => {
                        self.south_cukes.insert(Pos(x, y));
                    }
                    _ => {}
                };
            })
        });
    }

    fn solve_part1(&self) -> String {
        let mut next_east_cukes = self.east_cukes.clone();
        let mut next_south_cukes = self.south_cukes.clone();
        let mut moved = true;
        let mut round = 0;
        while moved {
            moved = false;
            next_east_cukes = next_east_cukes
                .iter()
                .map(|c| {
                    let target = Pos((c.0 + 1) % self.width, c.1);
                    if !next_east_cukes.contains(&target) && !next_south_cukes.contains(&target) {
                        moved = true;
                        target
                    } else {
                        *c
                    }
                })
                .collect();

            next_south_cukes = next_south_cukes
                .iter()
                .map(|c| {
                    let target = Pos(c.0, (c.1 + 1) % self.height);
                    if !next_east_cukes.contains(&target) && !next_south_cukes.contains(&target) {
                        moved = true;
                        target
                    } else {
                        *c
                    }
                })
                .collect();

            round += 1;
        }

        round.to_string()
    }

    fn solve_part2(&self) -> String {
        "".to_string()
    }
}

#[cfg(test)]
mod test {
    use super::*;

    fn get_input<'a>() -> &'a str {
        "\
v...>>.vv>
.vv>>.vv..
>>.>v>...v
>>v>>.>.v.
v>v.vv.v..
>.>>..v...
.vv..>.>v.
v.v..>>v.v
....v..v.>"
    }

    #[test]
    fn test_solution_example1() {
        let mut solver = Solution::default();
        solver.with_input(get_input());
        let solution = solver.solve_part1();
        assert_eq!(solution, "58");
    }

    #[test]
    fn test_solution_example2() {
        let mut solver = Solution::default();
        solver.with_input(get_input());
        let solution = solver.solve_part2();
        assert_eq!(solution, "");
    }

    #[test]
    fn test_solution_solution1() {
        let mut solver = Solution::default();
        solver.with_input(solver.get_input());
        let solution = solver.solve_part1();
        assert_eq!(solution, "601");
    }
}

const INPUT: &str = "\
.>vv..v..>v..>.>..>>.>.v>..v.v.vv>..v.>.>vv.v..v..>.vv.>>.vv.vv>.....>..v.v>.>>v>...v.vv..>>.v........>v.v.v>v.v.v.>vv>.v>vv>..>>>vvv...v>.
.vv...>.v.....>.....v>.v>v..>>.>>vv....>.v>v.v>........>.....>..v..>.>..>v>v>vv>..v.>v.>v..>.>v......>.>>>>v>.v.>.>.vv...>v.>.v>.vv.vv>.>.v
>.v>.vv..>.v...>v.>v.v.vv.>vv.....v.>v...v.v.v>....>..>v.>>.>.vv....>.v....v..v>>...>v.>...>..>.v>>v>....vv..>>v>>>>>>..v.....>..>>..v.....
.v>>v>v>..>>>.v..>v.v...>v>..v....vv.v......>vv...>..v.>>....v>v>>.v..>..>>..>.>.........>v..>v..v...>>>..>>>....v.>v>v.>v..vv..v>v..>..>v.
.v....v.v...>.v>v..>>..>.>.v.>v.>.v>..>.v.>>..>>.v..>.v>.v>..>>.>.v>..v>.>v.v...>v>..>...>.v.>..vvv.v..vvv.........>>...>.>v...>v>v.v.v>>vv
vv.v...v>vvv..>>...v.v>.v>.v.>.v>v..>v..v..>>v>>.vv>...vv..v..v....v..v...vvvv.v>.>...v..v.>....v>.>v...>......>...v>....>v..v...>....vv...
.>>>v.>..v.v.v>.v..v.v..>.......v>vvv.>.>>..v..v.>..>.vv....>v........>vv..v>.>......v..>>.>.....v.v>vv.......>..v>.v.>..>...>.v.>.>...>..>
v...v.vv....vv>.>.>>.v...>...v.>....>.v.>.vv>.>v.>>..>vv..v>.v....vv>v.>v..>..v.v>v..v..>>..>>v.v.>v.>>.v..>.v.>..>>>.>.v.vv>....>>>v.v.>v.
.v..v.>v.v.>v..v.>v.>.vv.>....>.>v.>..>>..v.vvv>v.>.....v.>>v>..v...>..>.....vv...>>>vv..>v.....v.>.>.>>..>v.....>.>>v.v>>>..v..vvv......v>
v>.v..v....v.>v..v..>>...>v.v...>v>...vv....>vvv>>.>vv>.>v...v>..v...v.v>v.>vv..>..v.>.....>>>......>...>>...v.>vv.>.>.>v.>.>.>vv....>>v...
v>...>.v.>..v..>.v>....>.>.>.v>>.v.v..........>.v..>>..>.>.>.v>vv.>.v....v.v>..>.>>..vv.>..v....>.v..v>...>..>v.v.>vv.v.>.v..>>v>v>vv>.>.v>
.>v..vv>.>v>.>.>vvv.>.v.>>v..v.v........>...v>.....>v...v...v>..>>..v>>>..>...>.>v.....v.>.vv...>vv.v>.>>..v..>>vvv>>..v.>>>.v.vv>>..>>>...
...>.......v.v>..>vv...>>.>.v>..>vv...v.......v.v.v.....>>v.>.>....>..>v.v.>vv..v.>..v.>v>..vv.>..vv.v.>>..>>vv..>...v.v>.....v.>v..>..v>..
>>..>>>.v..v.vv>>...v.vvv....>.v..vvv>.......>...>.vv..v>.v>..v....v..>.>>..vv.....>v..v>vv.vvvv.>>..v>.>.v>.v...v.vv.v.>>v.>>.>>.>.vv>v.v.
>..>v>....>.>vv.v...v...>.v.....>>>v.v.>..vv.v.....>v>>.v.>vv.>v..>.vvv.v.vv....v..>..>>v..vv>>>.vv.>.v.>.v>>..v..>>.>>>.vv>.v.......v>..>.
..>v>..>..v.>>.vvv..vv..v.v>>>>>>..v>v.>......>....v...>.>....>..>>v..>..vvv>v.>.v......v>>..>>>...>>v.........vvv>...>.v....>>.>.>.>>.v>v.
>.v..>v.v>.>.vvv.>>...>.v..v>v..v.v.v.>vvvv>>..v>.>.>>>..>.vv....>..v.v>.>.>v>v.....>.....vv.v.>v....>.>..v.vvv.vvv..>...>.>vv.>>..vvv..vv.
..>>vv.v.>.....v.v.>>vvv>v.>>..vvvv.>.>.>....>>v.v....vv...v.>.v.v>>..>...v..v.>>.>.vvv>>.vv.vvvv>.>v..>v..>.>....>v>v.v>vv...v....vv...>.>
>.>...v.>...>...>.v..>.v>>>.>.vv.vv..vvv>>.>..v.v..v.>.vv.v.>v.v..vv.vv>.v...v.v..v...>>..>v.v>>v...>>>...>..v...v.>..vv>>.>v...>>>.v...>>v
..>>.v.>v..>.>..v...v.v..>v..>.v.....>..>v.v>>..vv.v.v.>>..>>..v>..>vv.......v>.vvvv.v>>>>...>>.>v.>.v.>v>..>>.v...v.v.v.>.v..>v...>..v>v.>
>v.v>.v....v>vv.>.v.>.>>...v.v.vv.>....v...>v.>.>>...v.>v>vv.>...vvv..>v.v>>.>>..vv.vv>>v.>...v>v>...v>..>..>.v.>>v.vv.v......v>vv>.v....v>
.>>..v..v..v......vv..v.v>..v..v...>>>.v....v......v>.>v.v...v>......v.v>>v.v...>vvv>>v>.v.vv..>v>v>...v>.vvv.>v.>vv...vvv..v..>.v..v>.....
>....v>...v.vv>..>....>..v>v>>v.v.v>...>..v..>.v....>..vvvv..>.v>v>.vv..vv>>v>...>>.....v....v..>vvvv.>v...>>vvv>v.v.>.>>>v>>vv>.v.vv.>>.>v
>........v.....>.>v.v>.v.v.>.>.v>.v...v.>>.>...>>>v.v.vv>......v>...>v>>v.>>.>v..>v.>.>...>v.>.v.>....v.v..v.>.v...v.>....>...vv>vv>v.v...v
.v>vv..>>>>.vvv.>>..v.v......v>.>>...vv>v.vv...v.>>>v...>v..>..>>>vv..>....vv..>.vvv...v......>.....v..v..>.>v..>>>>...>.....vv..v.>>>vv..v
.....>.v.v..v>>.>v..>.>.>>........vvv.v>>.v.....>>.vv..v>>.v.v..>..v.v.>v>v..>.>.v..>v>.>....v..>.v...>>.>..v....>v>v.>...vv...>..>v>>.>.v.
v>...>.>..>.>..v.v.>>....v>.vvv.>.>>.>......>.v.>.......vvv.v.>v>.>>.>.>..>v>.>>.vv.v...v..v....>>v.>.v.>....v>>.>v>vv.>>.>>...>..>.v>v>vvv
..v>.vvvv.>>v>>.>v.>..>.v>.>vvvv..vv>...vvvv.vv.>>...v>>.....v>..v>>>v.>..>.v..>v>.>>v.>.v...>..v..>>.>>.>.>.....v.>.vv.v.>>.>.>>>...vv>.v>
vvv>v>vvv>v.>..v..vv>.vv...>>v..vvvvv>v.>v>.>>>..v>vv..>v.>.>.v.>..>>.>v>v.>..v>>.>vv..vvv>v.>.>vv>v..vv>.>.>v.v.>>>.......>v.vv>....>.>...
>>..v>.>.vvvv>.>.....>.>>.vv>..v..vv....>.v..>>>.v.>..>>vv.....>>..>>....v>.>.>.>.v.........>..v.v>.....v>...>.>..vv.>.v.v>....>...vv>>v.>.
>>v...>.>v.v..vv.....>.>.>.>...v..>v.v>>.....>v>v>>vv..v..v..v....v.v>..>>...>...v.>>v...>...>..v>.>..>..>v.>vv>v>.>v>..v...vvv>...v..v.>v>
....>..vv.>vv>....>.v>.v>vv.>>.>>..v>>.vv>.....>.....>.v>....>>.>v.>.v.>>v.>.vv...........v>.>.>v.v..>.>...>...v>...v>>.>>v>.v.v.>.v.>..>..
...>v>>v>v>v.>.>>v.v>v>....>>.>.>vv.v>v.v.>vv.v>vvv.v..v...v.>.>...v>...>.>v.>v>v..v..>vv.>.vv.>.>vv....v>>>.>>>>..>....v>v>v.v.>..v.>>>v..
..>.v.v..vvvvvv...vvv.v>.....v...>.>...>..>>.vv>v>.>>.vv..>>vvv>.>vv>.v.>v..v..v..v..v..>v.>.v...v.v..>vv.v>>v.v..>>...>..>v.v.....v.>vv.v.
.....v.....>>v....v..v.....v>.vv..vv..v>...>>.....vvvvvv..v..>.>>....v>.v>..>...>>..v..>..>.......v....>....>>.v>.v.......>>>v.vv>v.>.....>
>.v>.>>.>.v.>.>...v.v......v.>>v>.>.>>...>v>v>>...>.>..>v..>>.v>.vvvv.v>...vvv....v...>vv>>.v>..vv>vv....v...>...>>v.>>>.>.....v..vv.v>.>>v
>>v.v...vv..>..v.>..>.>.v..v>....v....>vv>>v.>....>..>.v...>.>..>...v>>.vv...v.>...>v.v.>>v>>..v.>v.>.>vvv>v..vv.>...>v>>.>>.>>..>v.>vv.v..
.v..v>...>>>.>.>>vv.v..v...>.>>v>vv.>v.v..>..>.>....v.>.vv>>....v...v>.v>>>vv.>..v...vv.v...>..>..v>vv>..v>.v.vv>>...v.>.>>....v........vv.
v>.v.v.>.>.v>..v..vvvv...>vv.>v.vvv.>>>.v..>..v.>..>.>.....vv...v>>....v>vv>.>.v..>v.>.v>>>vv..v.v.>>.>v.>.v>..v>>....>>.>v..>...v........>
v....v>>>...>v..>v.>..vv.>.vv..v.v>.v>vvv...v>>...v>vv..>.>.>>.>v.v.v>>.>.>...>>.v>v.>..>>........v..v.>>.v>.>vv>...>........>v>...vv.v...>
.>.>v>.v>.v.>vv.v>.v.>v.>..>v.>vvv..v..v.v.>v.>v>v>>...>v.>..v.v.v>..>>.v>..>vvv>v..>...v>.vvvv.v.v.>>.vv........>v..vv...>v.>..vv>v.>...>.
.vv>>...v.vv>.v>v.>..>.>>..v.vv>.v.v>v.vv>v>.>.v>v>..v.>.v>v.vv>>.vv>..v.v>....>v.>.v.v.>>..v.vv..v..v..>v...v.v...>..>v.vv.>>v.v...v>>>..>
..>>>.>.>v>....>>>..>.>.v>>>..>v>..v.v.......v..v>vv.v....v.vv>.>...>>.>v.vv>v.>.vv>.>vv...vv.>..v.....vv.......>...vv.v>.v.>.>v>>.v.v..v..
...>...>v..v>.v>.....vv.>.vvv>>..vv..>.v.v>v.>>v>.>.>v.>..v....v.>.>...>>>....v>.>..v.v.>..>>v.>v.....vvv...v...>.v>>>.v>......v...v>....v>
..>.>v.>...vv.vvv.vv......v.>v>...>.vv>v>..>....v.>...vv>v....v>v.>......v.....v.v.......v..>....>.v.>.vv..>v.v.>v.>v..>.v>v....>v>....>.>.
>.>.>.vv.v>.vv.>..>.vv..>..>v......v.v>>.>..vvv..>...>..>.....>>.v>.vv>>v>.vv.v..v.v>.>...v.>.vvvvv...v>.>...>>....vvv.v.vv.v......>.v.vvvv
v...v>>.>.v.v>.>>v>>v>vv.vv...>vvv>v.v>....v.v>v...v....>..v.v.vv.>v>.vv.>vv.v..v>vv>.>...v.vv.v>vvv>.>.vv>>.>.>>...v..>>v.>v>>>v>v..v.v>..
..v.v>>>v>.>..>>....v>v.v.v.v..>.v......v...vv>>..>...>.>.>>..>.v...>v>v..v.....>v>>.v>.v>>.....>.......>vv>>v..>>>v....v.v..v.>.v.v>>v.v..
.>>v>v>..........>vv.>.v>>>v.>>vvv....v>..>>>v...v.>>.>.v>......v>...vv..>.>v...v.>v>>..>.v..>..>.v....>..>.>>v>>.>..v.......>.v>>.>....vv.
v>>..>>.v>.......v.v..v>..>>>>>vvvv>..>>vvv>..>>...>.>.>.>vvv>.....v>.>..>..>.>vv..>.>..vvv>vv>.>.>.v>......v.>v>.v>...v>..v>>>...>.v..>.>.
.v>>vvv..>vv...>.>>vv.>...vv.>..>>.>v>>..v>....v>>...>..vv>v..>>.>>......>>...>...v.>..v>.>v...vv.v>>v>vv..>>v>..v.>...v>....v..v..v....v..
.v.>vvv.v>.vv>.vv.v>.>.>...>.v..v>..v>vv.>..>>.v.v.>.>..>vv...v.>.>>..>>.>..v..v>..>.v.v.v>vv>.v>>>v.>v.v.>..>.v>..v.vv...>>.v>..v....>..v.
>.v.v>.>>v...>v>>..v.vv.....>..>..>>..>.v.....vv.....>.v>v.v.......v.vvv>.>vv>.v.>.>..v>>.>..v.vv.>.>>.....v.>v>vv...>.v.....>.>v.>>>..vv..
>...>>.v>v.v.>>>.vv>.v>v..>....v.>.vv...>.vv..>..>.v.....v.>v>...v.v....vv>>..>>..>..v.>.>v>v.v.>.>v..v....v>>vv>.>>vv.>>v.vv....v>.....v..
v...>.v..>v..vv........v...>>...v...>.v>.>.vv...v..>>.v>..v..>.>>>......>>>>.vv.>.>.v......>v.v>..>.>>v.v...v..v.vv...vv..>>>vv...>.>>>v...
>...>.>v.>v>.....v.....>.vv.>v.vvv>.v>>vv....>>vv>....>v.>v..v>...v.>>..v..>..>.>v....v>.v>.v>v>.>>.>.vv>.>....>...>v....v.vv>..vvv.vvvv>v.
>.vvv..v..>>.v.v....v..>>.v..vvv....>.v.>vv...v.>v.>v>vvv.v..>...>v>.v>v>v..>>>>..v>>v>.>v>>.vvv......vv>.>.>.v>.>v>.....v>>>.v...>..v..v.v
...>>..>>vvvv.>...v>.>.v>.>>.>......>>>...>>.vvv...vv.>.....>.>vvv>....>.>>v>.>...v>..v..v..v.>v...>..>v......v..vv..>.>v.vvv....v..v>.v...
...v..vv.>..v.>v..>.....v..vvv>..v.v.>..v.>.vv.v.v.>.v>.>>>..v....>>v.v.>.v>>.>v>vvvv>.>v......v..>.....>.>....>..>.>vv.....vv.>.>>...>.>.v
>...v...v..v.>v.>>.>...v>.v.v>>....>.>>v.>..>>.v..>>...>..vv>v.v.>.v.v.>...v.>v.....>.vv.>..>>.>.>.vvv.vvv.v.>....vvv.vv..>..v.>v..........
.vv>v...>.v.>..>vv.v..v..>.v>>>...vv..>.v>>vv>..>.>>v>.v...>.vv.vvv..v.v.vv>.>..v>v.>>..>v>>...v..vvvv..v..>vv>...vv...>>...>.>>>.>...>v.v.
>>.v.v.v.>>v.>>v>.>...vvv>>>..>>.vv....>vv.vv>vv.v..>.v.vv..v>>.v....v.v.>.>..v.>>.>>.v..>>.vv>v>.>vv>..v>>..vv>>>>.v>.>>v.>.>v..>.>.>...v.
..v....v.v.v>.>.v.>...v..>.v>.>vv..v.>..v..v..vvv>>.>..v>..v...>>>>vv>v>vv.>...v.v>.>..>vv>>..>vvv.>v>>>v>vvvv>.v..>.v.>.vv.>.>.vv>..vvvvv.
...v>.>>.>>>.>.vv>.>>.>>>..>v>>.>.....>.>.>.v>>v..>.vv>v.v>>v...vv>vv>.>..v.vv...>.v>.>v..v...vvv..v.>v>>.v.>.v>>...v...>vv.v>.vvv>>.>..v..
v.>.>v.vv>vvv.>>v...>>......>v.>..>v>v.v....>...v..vvvvvv..>v>v..vv>...>>...>v.v>v>>vv>..>v..vv.v>.v.vv>.v...v.>v..>v>.v>..>..v..>.>..>..>.
.>>v>.>>..v.v>...v.v....v.vv..>v>....>v.v......>>.>...>>.v>.>...v.v.>.v>>v.>>>......>>.v.v.>...v....>>.v.v>.>>v.vv..>>v>v>v.v...v.>>.>...>.
>>........vv..vv>v>>..>>>..vv.v>>.>vv>>>>.v.>>v>...v...v>>v....v.....>v..>..vvv.v.....vv>v>v>v>..v>.>vv>v.v.v>...v>.>vv.v.v>.v..>.v......v>
..>v..>v>v>>>v.>>....v.>>vv>v>>..v>..v..>>.....>v>..>>..>....>v..v.....>vvvvv>.v..>.v>v.vv.>v....v....>.v>.v.>.v>>...>..>.v>....>..>v>vv..>
>>>>.>..vvvv..>>.v..v...>v...>..vv..>>.v.>v>.>v.>v>>v.>>..>.>v>v.>v..v>vvv.>v>>.>vvv.>.v>v.v.v>>>>.v>v...>v.>v>.>>>v.v.>v>.v.>....>v.v>..v.
.v>>.>>vvv.>..>.v>>>vvvv>>...>..>vv..>..v..>v..>...v>..>v........v>>>.v>.v>.v..v>vv...>>.v>v...vvvv.vv>vvv>.v.>...>.>.v.>>.v>v>...v>..>>..>
.>..vv.vv.v.>v>>v..v>>>>v>>...v>...>.>>>.v..v......>>>>>....v.>>....v>v.v...vv..vv.>vv...v.v.......>v>..v>>.>v...>.v....v>>>....>.>.>.>>>v.
v..v.v>..>...>.v.v....>v...>v...>.>..>.....v>v....v>.>..>.>v....v>vv...vv.vv...vv>v..v..>>...>>..vvv..>v..>>v.vv>.v>..>...>v...v.>v>v...vv.
v.v..>.vv>..v>.v>.v..v>>v...v..>.v...vv.....>vv.......>....>>vv.>..v...vv.v>vvv..>v.vv..v..>>...v..>>..>..>.v>....v...>...v>.v.v...v....vv.
.>>>.>.......>>v.>...>......>.>.>.v>v..v...>>>.>v..v.vv>>..>.>.>.v.>>v.v......v>v..>.>..>v......>vvv.>>v.>.>...vv>>..v...>..vv..>.v.>.>.v>.
v>v...>>>.v.>>..>vv.vv>..>.>v....>v..>>.>.v>....>v>.>...vv....vv..>>v>...>.>v...v.>.vvv.>>..v.v>>>....>.v.v.>..v.....v.>.>v..>....vv.>v..v>
vv.vv>>>.vv.v...v.>.....>....v.>>>...v.>v.v...>vv.vv>.vv.v......>>...>.>.>..v.v>.>vvv>...v>>v.>....>v>..vv..>.v.v..v>v....vv.>vvv.>vv.v..>>
>>..vv...v....>.>v.v>.>..>v.vv>.v....>>v>v>.vvv......>..>.v..v.>..v..>v..>.v.v>>....v.>.v>>..v>..>>vv...>v>...v.v.v.v.v>vv>v>>v>v.....v>...
...v.>>>.>.v.v>.>>..v.>.vv>.>.vv....>>.v.vv.>.>.>...>.v.v.v..v...v>v..>>.>.>..>.>>....>..>>>....vv>v.>>v.>.v>.>v...v>>v....v.>v..vvv>vv>>.>
.v>.v.>>..v.v.>v>.v.>>....v.>.v...v.>v......vv.>vv..>>>...>vvv.>.v>vv>..>>>..vv>....>v.v>.>>>.v>>v...>>...>v..>.>...>>.v>..v>>v.>..>>.>>v.>
....vv>>..v.>.v.>>.....>.>....>>>v..v...v.>..>.v......>..v>>v>..vv.....v...vv>...>>.>v>...>.>.>...v.>.>>v>.v.v.>...>>....v.>.v>>>..vv.>v>..
..vv.>v>>v...>>vv.>v...v>>.>>.v.v.>v.>v..>>v.......>...vv.vv>..v>..v>.......>>v...vv.>vv..>..>v.....>vv.>.v...vv.v..>>v>.>.>.vvv>......v...
>vvv>.....v.v>>.vv..v>.>v>.>.v>>>v..>.v>..vv..>>.v..>.v>..v.>>...>v..>>v.v.>>v.>vv.>.v>.v....vv>..>>>>v.v>..v.vv>.v>vvv>>.v.v>>v>.vvv.>.>>v
>v.v.>v..>...>.>v>v>>vv.>.>.v...v.>.v.v>.v.v>>.....v.v>.>...vv.>..vv.v>v....>.vv..>>.vv..vv.v>.>>v..v.v..>..v.v.>...>..v.vv.v..v.>v>>vv>v.>
.>v.v..>.>..v..>v..v.vvvv.....>.v..>.>>v.v..>>vv>v.>.>.>...v...v....>..>>vv..>.>...>.v...v.>.>.......>>>..>>.v...v>..>.>vv...>.>>>v...>>>>>
vv.v..v..>v......>...>.v.....>>.vvv>>>..v.v.v>..>v..>..v.>..>>...vvv>v>>..>>vvv.>v..v>...vv....v.vv.>.>...........v.>>vv.>....>v>vv.>>.>.v>
>>>.>.>.>.>...v>>..>.v>>v.>>v.>vv..vvvv>>..v.v>..>>.v...>..vv.>.v..v.>.vvvvvv..v>>...v....vv>.>>v>v..v.>>v..v..v.v.v...>v>.v.>>>>.>>.>>....
...>>v>v.>v.v.>.>>>>v..>vv..v...v..>v..>v...>>>..>.v.>>..v.>.vvv>.v..>.....v>>......>v....>v.>.>.v..>..v.v>>..vv....>..v.vv.v.v...v..>>.>.v
v.>v>.....vv>>.>.v>.vv....v.....>v..>>>.>vv>..v.v>...v>vv..v.>v>...>.>v...>vv.vv.v..>>....>.....>..vv..vv>...>.vv..>v..v>v.>.v>..>>v>..v.>v
..v>.>>.v.>v.vv..>..>v>v.>vv..v..v.vv....v>vv....>.>vv.>>..>..>.v.vv...>..v..v..>v..>....vv.v......>v>..v>>..>.>.v..>.>....>>.>v.v.vvvv.>..
v..>>v.v.....>v..>..v.vvv.v>v....v..>.v>..>>v.>...>v>...v>v>.v...v.>>.v....v..>.v...vv>>>...>>.>>v>vvv>..>.>.>>>v>..vv>...>..>.vv>v....v...
vvv>v>vv.v>v>vv..>>.vv.>v.>.>>.v>..v...>..>v...v>.>....>v>>.v.vv....v..>.v.>......v>vv>v.>..>v>>..vvv>>vv.vvv>..........>.vv....v>>.>v..>>>
v...v>v..>v.....v>>..>.vv..>>..v>.....>..vv>.v...v.v>..vvv.....v..>>v>v..v>.v>..>..>v>.v>>.>..>...vv.>>v..v.>.vv.v..>.>>>>>.v>>..>.>.>vv>..
..>..>v>.>v.v.>.v>vvv.v.v.v.v.>.>vvv.....v.>...v>vv>v>.v.>>>.>.>>.v.>..v.>>>>.>..>vv>v>v>.v.>v...v.vvv>.....v.>>>>.v.v>>...>.v>..>.>..vv..v
.>..vv>.>v...vv.vv>...>..>..>..>..>>..v.vv>...>.......>...v>>>.v>.v..>vv.v.vv.v..v>.v>.....vv.>...>>>>>>.>>v..>.v>.v...vv..v>>.v>....>...>.
.v..>....v..>.>...>>v>......>.v.v>...>.>..>v...>v...>>..v.>..>v>...v>.>..>>..>.>.vv.>...>v.v..v>>..>.>.v.v..vvv>...v>.v>>.v...v..>.>.>.vv..
>..v..>>v.>>>...>vv.v>v.>>..v..........>..>v..>v.v..v.>v.>..>>v>.>...>..>..vv....vv.>...v>>v.v..v...v.>v>>.....v....v>v>>>..>>.v..vv>v...v>
vv>>v..>.v>........>.vv>.v.v...v.>>......>v.v.v.>>..v.vvvvv.>...>>....>>>.>>..v>vv>.v.v..v.>>..>v.>v..v..v..v>....>>vv>.v>.>vvv>v...>.v>...
..v>..v.>.>>..v>.>v.v>v.>....>>..>.>v..vv.......>.vv.>.v..>>>.>>>>.v..v.v......v>....v>.vv....>.vvv>.>v>>....>>>v>.>>.>v.>>.v.vv..>>>..v..v
.>>v>.>>..v..>>v.>>..vv....v>>...v..vv..>v.v....v>..>>..v..vvv>....v.v>.vv...>.>>>v..v>v.........v..>vv....>.vv>...v>.>v..>v>.>v..>...v..>.
>..v........>>>v>.v.vv.>>vvv.>.>v...>vv...v..>..v.>.v>>....vv.v.v.>..>>>vvv...v>>vvv.>.>>>..vv......>vv..>>vv>>..v.vv.v.v....>..>..>v...>v.
...>.v.v>.>.vv.>v.vv.v...>v>v>.v>...v.>.....>.>...vv.>.>.v..>vv..v>vv.>.>....v>.v>v>>vvv>.......>.v....vvv.v>>>v..v>vvvv.......vv........v.
.>..>>.>vv...v.v>>>>>...vv.>vv.v......vv.vv..vv..>>v.>>..v.>>..>.>vvv..v>.>v>v>v...v...vv.v..vv...>....>v>.>....vv>..v.>.>..v>v..>vvv.>v.>>
v>.v>>..v...v>.v.vv......v>vv.>.v.>.v.....>..v....>>...vvvv...>.vv...v>>.>>.>>>>.....v>.>.>.vv.vv....>.>.v>>>...v..>v..>>>..v..>vv>.>....vv
.v.>vv....>.....vv.>..vv..>v>.vv>>>.v...>v.v.>.v..v.v...>..v....vv>..>..vv>v>>..>.>v>v>...v>.>>...v.v...vv.v..v>vv.>.....v>...>>v>v.......>
v.>.v..>>v.v.>v...v.>>>v.>.>>>>>..>v.v.v...v.>v.........>>....>v>>....v..v>>>.vv.>.....v>>v.v>>..........>.>vv..>.>.>....>>>v.>>>v..>...v..
v..>.>>>v....v>>.v>.>vv.v..v>.v.v>.>..>>.vv.>>v>..v>vv.v....>vvv>>v.v.v...>>.vvv.v>v.v.v>..>.>.v.>>...>.v>>...>>.v..v>>.v>v.>.v>>v.v...v..>
>v..>v.v>vv...>..>v.....v..>v.v.v>vv.vv.>......>.vv>...v..>....>>v..v>vv.v>.....v...>>.>>....>.v.....v.>.v...>.v.v..v..v....v.vv>..v.v>v..>
.>v.vv>.>>.>v>.vv.>.>v>..v.v.>>v.v.v>.>v.>..v>>vvv...v.vv>>...v>>.v.>v....vv>>>vv>v.v.>.v>>>v>.v.v...v.>.>..>>.>>...v..>>v>>.v.vv>..v>v...>
..v.>>v.vvv.....v..>.vvvv.>...v>>>.vv>v...v>>v.>...v>.>.v.>v>.>.>...>>.>.v>...>>.v..v...>...>.v.>v.vv.>.v.v>.v.vvv>v..v.v..>vv>>.....>.vv..
>v....>.....>v.v..v.vv.>>v.>v.v.....v>>>v..v.>vv.v>.>.>v.>v.vv>.v>v>.>...v.vvv..>>>>..vv>..>v.>.....>.>vv.>..>v...v>.>>.v>v.>>..>>v.v.>.>v.
v.>v>>.....>.>>v>.vvvv>>>.>v.v>...vv.....v..>vv.v>.....>...vvvv.vv>>.vvv.v..v.v....v.>....vv>vv.>....v.v.>vv...v..v.>>vv...>vv>.>.>>.v.v>..
vv>>....v>..vvvv>v>>.v>>.>..v.>>>.>.v..>.>>vv....v..vv>>v.vv.vv>.>...v...v.v.>v.v..v..v..>v..vv.....vvv>..v>>.....v>>.v.....v.>..v.>v.>vvv>
>v...>.>..v.vv.......v.v.>..v.>...>...v....>>.>>vv>.>>...>..>.v.v.....vvv>..>.v>..v>vv..>v.v>>.v>...>>.v>vv.>>v>.vvv.>..v.>...v..v.vvv>v>v>
..v.>>vvv..>.....vv>.v>>v>..>...>vv.>..vv>.v...>v>>>..v>>v....v..v...>.v.v..v..v..>.v...v...>.>>>.v...v.v.>>>.v.....v>....>.>v>vvv..v>>..>.
>...v...>.v.....>>v>v..v.>>v>v..>>v.v>>...>v......>.>.vvvv...>v.>..>v.>.v>>.v...>.vv.>....>v......>..v.v.>.v>..vv>v...v>.>>v>.v.>..>....>v>
v.>..v.>.>..v.vv..>..>.>.v>v>v......>v.v..vv>...v>>.>..v>..>>..v.....v.v..>v>.>>.>.vv>..>>..vv..v>..v...>..>v..>>v..>v..>.>vv.>v..vv..>.>>>
.>.v>..>..>......>.>.>..v.>..v.>.v>>.v......>..>....>.>>.vvv.....>..>.v.>.>.v>..>..>>>vv...>..>.>vv...>>v.vvv.v.>.v>v>>>>.>>v..>vvv.vv.v>>>
.v.vv.>.......vv..v.>>.>>v>>>v....>...v.v..vv>>>>>.v.>.v>v>>.v.>v.vv>vv.>v>>.>>.>v.>v....v>v...v.vv..v.>>.v....v.>>>.>>v.>>.v.v.>.v......v.
..>..>.>vv....>.>.v.....>vv>.>>...v.vv>v>>.>......>v...>>v.>.v.v.>v>>.v.>.>.v.....v>v.>.v....v..v>.>>....v..v>v>..v.>....>>>v.vv..>>>v.....
.v...v..v...>>>vv.vv..v.>.vv>....>....v.>.vvv.v..vv>...v.>>v.v>>.v>.vvv...>..v.>...v>v>v>vv...>>v.>.vv.vvv.v>...>.>>.v>.v.>.>..>..v..>v....
...v>>..>.>vv>>>v..vv.v>.>>>.>..>>.vvvv>...>>vvv.v..v>.>vv>v.v...>>....v.v....>..>..>.>>v.>.vv.vvv>.>v...>v>..>.>v>>.v>>.vvv>.>>vv>>>>vv..v
.v>>.v.>>...>.......v.v>.>...v........>.v.v.....vv....>.v>....>.v.v>vvvvv>...v>v.v.>v.>.>>>..vv.>.>v>.>.....v>..v>>...>v...>.v.v>..>...v.>.
v>>.vv>vvv>.......>vvv..v.v..>>..v.>v>.vv>.>>v>...v>.v.v>v.>.>...>...>..v.>v....v.>v..>....v....v....>>...>.>.v.>.....>..>.>v>..>.>v>...v>>
...>..>v..>>>v..v.........v..>....>vvv..v.>>.>..v>...>.v.>v.v..>...>>>...>.v>>....v.v.>>>v>..>>.v.>...>.v>.vvvv.....>..v.>v.v.....v>..>.>..
.>v..v>...vv...v..v..>......vv.v.>>.>.........vvv.>.vv.>....v>..v.v.>v.v..>vv.v.>.>>...>v>>.v...v..>.>.....>v.v.......>..>.vv>...>..v.>....
>v>>.>v.>>.>>>>>v...>..>..>..>>v>...>>v....v..v.v.>.....v.v..>>v...>.vv>.>.>.v>>vvv...>.>.>.v.....v.>.v.vv....v.v.vv.v.v....>vv..v...>..v..
>...v.>v....v..vv>>>..v.v..v....vv.v.v.>vv.....v>>v.>>.v>>..>v.>>.v.>v.>.>.....>>.vv>>..>..>...v.>..v.>.v>>v.v.v>>v.>>v.vv.>v>...v>..v.>.vv
.>>.v..v>>.>v>v.vv>>>..>.v>.v...>>..>..>..>v.vv>v.>>v>v>>v>>v>>.v>vv>.>.>>vv..>>>.>..>.>vv.>.v>vv>.v>v.>v.v>.>.v.>..vv>....v.v.>v>.>..v.>..
.>..>...>..v.v>.>v>v.>.v..v...v>v..>.....>v..v..>.>.vv.v....vv.v>.v..>>v...v.....v.>.>v>>..v>..>v..vv>.v....v>v.>.....v..>.>>...>v..v>..vvv
>....vv...v.v>>v>vv..v....v.vv.vv>>......v>v...v.v>v...v>>v...v>>..v.>v...v.v>..>.vvv..>.>>..>.>.vv..>..>>.>>.>..>>.>...>>>>v>.v>.>...vv.vv
..v..>.vvv>.v.>..v...>vv>.v.vv.v>..v>.>.....v.>v>vvv.vvvv..>..v.>v>vvvv.>.vv>>.>.v.v>.v>.>vvvv...>....v.v>.vv>..>vv...v..v.>.v..>>.>.>...v.
.v...v...vv.>v..v>v>v..>>v..>v.v.>.>v>>.vv>>.>....v.>>.v>....>vv.>>..>.v>>....v.>..v>...>.>...v>>>v>v>vv>>>.vv>.>>.vvv..>v....>..>.....v>vv
.vv>.v.>..>..v.....v.v.>...>v>v..v..>v>>>>v.v..>vv..v>>.>>v>...v.>.v>v.>>>vv.v..v.>...vv...>v.vv..>vvv.v...v..>>v>......>.v..>..>>..>v.v..v
.>>.v.>..>v.>vv.>.>.v.>vv.>.v.v..>v.v...v>>.>....v>v.>>....>v..v.>...>vv..>..vv..>.vv.>...>..v>>v.v..v.......>...>vvv>..v...>.v>.>v>..>....
v.v.v>...>.....v.v...v.v..>.v>.vv>v.........>..v>.v..vv>..>.v>v.v>..v.>...>..>v>v>..........>.>...v>.v...>..>v..v>....>..vv..>>...>..vv..>>
v>......v.>..v.>...v..>v......v..v.>..>..>v...>..v....vvv...>.vv....>.>>.>....>v.>>>>>.v.vv..>>>>>>..>v..>.v....v.>v.vvv>>>...v....v..vv..>
>.vv.....v>v.v.v>v>.v>>v..>.v..v..>..>.....>.v.v.>>>..v..v>...v...>...>....vv.>v..vv....v.v>>v>vv..v..v.v>v.>v>vv>.........>.vvv..v.v>>..>.";
